---
layout: default
title: BitOps
permalink: ldoc/modules/BitOps.html
description: math bit extensions
parent: Lua API
table: 0x563c9ffe79c0
---

{% raw %}
    <h1>Module <code>BitOps</code></h1>
    <p>math bit extensions</p>
    <p>


<p> Note: there are no bit shift. Use those Lua functions instead for 24 bits bitshift
 24 bits because only the 24 bits of the mantissa can be easily used in a 32 bit float
 bitshift functions (&lt;<, >> equivalent)</p>


<pre>
<span class="comment">-- left shit
</span><span class="keyword">local</span> <span class="keyword">function</span> <span class="function-name">lsh</span>(value,shift)
    <span class="keyword">return</span> (value*(<span class="number">2</span>^shift)) % <span class="number">2</span>^<span class="number">24</span>
<span class="keyword">end</span>

<span class="comment">-- right shift
</span><span class="keyword">local</span> <span class="keyword">function</span> <span class="function-name">rsh</span>(value,shift)
    <span class="keyword">return</span> <span class="global">math</span>.<span class="function-name">floor</span>(value/<span class="number">2</span>^shift) % <span class="number">2</span>^<span class="number">24</span>
<span class="keyword">end</span>
</pre>

<hr/>
</p>
      <h3>See also:</h3>
      <ul>
          <li><a href="https://github.com/beyond-all-reason/spring/blob/BAR105/rts/Lua/LuaBitOps.cpp">rts/Lua/LuaBitOps.cpp</a></li>
      </ul>

        <h2><a href="#Functions">Functions</a></h2>
        <dl class="big-dt">
            <dt>
              <a href="#math.bit_or">math.bit_or</a>
            </dt>
            <dd>
              Returns the bitwise OR of all arguments.
            </dd>
            <dt>
              <a href="#math.bit_and">math.bit_and</a>
            </dt>
            <dd>
              Returns the bitwise AND of all arguments.
            </dd>
            <dt>
              <a href="#math.bit_xor">math.bit_xor</a>
            </dt>
            <dd>
              Returns the bitwise XOR of all arguments.
            </dd>
            <dt>
              <a href="#math.bit_inv">math.bit_inv</a>
            </dt>
            <dd>
              Returns the bitwise NOT of the 24 bit integer argument.
            </dd>
            <dt>
              <a href="#math.bit_bits">math.bit_bits</a>
            </dt>
            <dd>
              Set each of the bits of a 24 bit integer.
            </dd>
        </dl>

      <h2 id="Functions" class="section-header ">
        <a href="#Functions" class="anchor-heading" aria-labelledby="Functions">
          <svg viewBox="0 0 16 16" aria-hidden="true">
            <use xlink:href="#svg-link"></use>
          </svg>
        </a>
        Functions
      </h2>

        <h3 id="math.bit_or">
          <a href="#math.bit_or" class="anchor-heading" aria-labelledby="math.bit_or">
            <svg viewBox="0 0 16 16" aria-hidden="true">
              <use xlink:href="#svg-link"></use>
            </svg>
          </a>
          math.bit_or(a1, a2[, a3[, an]])
        </h3>
        <p>Returns the bitwise OR of all arguments.</p>
        <div class="code-example">
        <p>
           Only use up to 24 bit integers.

        </p>


           <h4>Parameters:</h4>
           <ol>
                 <li>
                   <code>a1</code>
                   <strong><span class="type">number</span></strong>



                 </li>
                 <li>
                   <code>a2</code>
                   <strong><span class="type">number</span></strong>



                 </li>
                 <li>
                   <code>a3</code>
                   <strong><span class="type">number</span></strong>



                   (<em>optional</em>)
                 </li>
                 <li>
                   <code>an</code>
                   <strong><span class="type">number</span></strong>



                   (<em>optional</em>)
                 </li>
           </ol>

      <h4>Returns:</h4>
          <ol>
              <li>
                <strong><span class="type">number</span></strong>
              i</li>
          </ol>



        </div>
        <hr>
        <h3 id="math.bit_and">
          <a href="#math.bit_and" class="anchor-heading" aria-labelledby="math.bit_and">
            <svg viewBox="0 0 16 16" aria-hidden="true">
              <use xlink:href="#svg-link"></use>
            </svg>
          </a>
          math.bit_and(a1, a2[, a3[, an]])
        </h3>
        <p>Returns the bitwise AND of all arguments.</p>
        <div class="code-example">
        <p>
           Only use up to 24 bit integers.

        </p>


           <h4>Parameters:</h4>
           <ol>
                 <li>
                   <code>a1</code>
                   <strong><span class="type">number</span></strong>



                 </li>
                 <li>
                   <code>a2</code>
                   <strong><span class="type">number</span></strong>



                 </li>
                 <li>
                   <code>a3</code>
                   <strong><span class="type">number</span></strong>



                   (<em>optional</em>)
                 </li>
                 <li>
                   <code>an</code>
                   <strong><span class="type">number</span></strong>



                   (<em>optional</em>)
                 </li>
           </ol>

      <h4>Returns:</h4>
          <ol>
              <li>
                <strong><span class="type">number</span></strong>
              i</li>
          </ol>



        </div>
        <hr>
        <h3 id="math.bit_xor">
          <a href="#math.bit_xor" class="anchor-heading" aria-labelledby="math.bit_xor">
            <svg viewBox="0 0 16 16" aria-hidden="true">
              <use xlink:href="#svg-link"></use>
            </svg>
          </a>
          math.bit_xor(a1, a2[, a3[, an]])
        </h3>
        <p>Returns the bitwise XOR of all arguments.</p>
        <div class="code-example">
        <p>
           Only use up to 24 bit integers.

        </p>


           <h4>Parameters:</h4>
           <ol>
                 <li>
                   <code>a1</code>
                   <strong><span class="type">number</span></strong>



                 </li>
                 <li>
                   <code>a2</code>
                   <strong><span class="type">number</span></strong>



                 </li>
                 <li>
                   <code>a3</code>
                   <strong><span class="type">number</span></strong>



                   (<em>optional</em>)
                 </li>
                 <li>
                   <code>an</code>
                   <strong><span class="type">number</span></strong>



                   (<em>optional</em>)
                 </li>
           </ol>

      <h4>Returns:</h4>
          <ol>
              <li>
                <strong><span class="type">number</span></strong>
              i</li>
          </ol>



        </div>
        <hr>
        <h3 id="math.bit_inv">
          <a href="#math.bit_inv" class="anchor-heading" aria-labelledby="math.bit_inv">
            <svg viewBox="0 0 16 16" aria-hidden="true">
              <use xlink:href="#svg-link"></use>
            </svg>
          </a>
          math.bit_inv(a1)
        </h3>
        <p>Returns the bitwise NOT of the 24 bit integer argument.</p>
        <div class="code-example">
        <p>

        </p>


           <h4>Parameters:</h4>
           <ol>
                 <li>
                   <code>a1</code>
                   <strong><span class="type">number</span></strong>



                 </li>
           </ol>

      <h4>Returns:</h4>
          <ol>
              <li>
                <strong><span class="type">number</span></strong>
              i</li>
          </ol>



        </div>
        <hr>
        <h3 id="math.bit_bits">
          <a href="#math.bit_bits" class="anchor-heading" aria-labelledby="math.bit_bits">
            <svg viewBox="0 0 16 16" aria-hidden="true">
              <use xlink:href="#svg-link"></use>
            </svg>
          </a>
          math.bit_bits(a1, a2[, a3[, an]])
        </h3>
        <p>Set each of the bits of a 24 bit integer.</p>
        <div class="code-example">
        <p>
           Returns result = result OR (1 << a1) OR (1 << a2) OR ...;)

        </p>


           <h4>Parameters:</h4>
           <ol>
                 <li>
                   <code>a1</code>
                   <strong><span class="type">number</span></strong>



                 </li>
                 <li>
                   <code>a2</code>
                   <strong><span class="type">number</span></strong>



                 </li>
                 <li>
                   <code>a3</code>
                   <strong><span class="type">number</span></strong>



                   (<em>optional</em>)
                 </li>
                 <li>
                   <code>an</code>
                   <strong><span class="type">number</span></strong>



                   (<em>optional</em>)
                 </li>
           </ol>

      <h4>Returns:</h4>
          <ol>
              <li>
                <strong><span class="type">number</span></strong>
              i</li>
          </ol>



        </div>
        <hr>

{% endraw %}
